<!DOCTYPE html>
<html lang="id" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SISATU DPMD Kerinci</title>
    <link rel="icon" href="data:,">
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1e40af',
                        secondary: '#dc2626',
                        gov: {
                            blue: '#1e3a8a',
                            red: '#dc2626',
                            gold: '#f59e0b',
                            gray: '#374151'
                        }
                    },
                    fontFamily: {
                        display: ['Inter', 'ui-sans-serif', 'system-ui'],
                    },
                }
            }
        }
    </script>
</head>

<body class="h-full bg-gray-50">
    <div class="max-w-[450px] mx-auto bg-white min-h-screen shadow-2xl" x-data="guestBookWizard()">
        <!-- Government Header -->
        <div class="bg-gradient-to-r from-gov-blue to-blue-800 px-6 py-6 text-white">
            <!-- Government Logo Area -->
            <div class="text-center mb-4">
                <div class="w-16 h-16 bg-white/20 rounded-full mx-auto mb-3 flex items-center justify-center">
                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L2 7V10C2 16 6 20.5 12 22C18 20.5 22 16 22 10V7L12 2Z"/>
                    </svg>
                </div>
                <h1 class="text-lg font-bold leading-tight">REPUBLIK INDONESIA</h1>
                <div class="h-px bg-white/30 my-2"></div>
                <h2 class="text-base font-semibold">DINAS PEMBERDAYAAN MASYARAKAT DAN DESA</h2>
                <h3 class="text-sm font-medium opacity-90">KABUPATEN KERINCI</h3>
            </div>

            <div class="bg-white/10 rounded-lg p-4">
                <h4 class="text-lg font-bold text-center">BUKU TAMU ELEKTRONIK</h4>
                <p class="text-center text-sm opacity-90 mt-1">(SISATU)</p>
            </div>
        </div>

        <!-- Large Progress Indicator -->
        <div class="bg-white border-b-4 border-gray-100 px-6 py-6">
            <div class="flex items-center justify-center space-x-6">
                <div class="flex flex-col items-center">
                    <div class="w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold border-4 transition-all duration-300"
                        :class="currentStep >= 1 ? 'bg-gov-blue text-white border-gov-blue' : 'bg-gray-100 text-gray-400 border-gray-300'">
                        <span x-show="currentStep > 1" class="text-xl">‚úì</span>
                        <span x-show="currentStep <= 1">1</span>
                    </div>
                    <span class="text-sm font-semibold mt-2 text-center leading-tight">PILIH<br>TUJUAN</span>
                </div>

                <div class="w-12 h-1 rounded-full transition-all duration-500"
                    :class="currentStep >= 2 ? 'bg-gov-blue' : 'bg-gray-300'"></div>

                <div class="flex flex-col items-center">
                    <div class="w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold border-4 transition-all duration-300"
                        :class="currentStep >= 2 ? 'bg-gov-blue text-white border-gov-blue' : 'bg-gray-100 text-gray-400 border-gray-300'">
                        2
                    </div>
                    <span class="text-sm font-semibold mt-2 text-center leading-tight">ISI<br>DATA</span>
                </div>
            </div>
        </div>

        <!-- Content Area -->
        <div class="px-6 py-6 bg-white min-h-screen pb-32">
            <!-- Step 1: Department Selection -->
            <div x-show="currentStep === 1" x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 translate-x-4" x-transition:enter-end="opacity-100 translate-x-0">
                <form @submit.prevent="nextStep" class="space-y-8">
                    <!-- Status Section -->
                    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border-2 border-blue-100">
                        <h3 class="font-bold text-gov-gray text-lg mb-2 text-center">
                            üìÖ STATUS KEHADIRAN PEJABAT
                        </h3>
                        <div class="bg-white rounded-lg p-4 mb-4">
                            <p id="tanggal" class="text-center text-lg font-semibold text-gov-gray"></p>
                        </div>
                        <div id="status-container" class="space-y-3"></div>
                    </div>

                    <!-- Department Selection -->
                    <div class="bg-white rounded-2xl border-3 border-gray-200 p-6">
                        <label class="block text-lg font-bold text-gov-gray mb-4 text-center">
                            üè¢ PILIH BIDANG TUJUAN KUNJUNGAN
                        </label>
                        <p class="text-center text-red-600 font-semibold mb-4">* Wajib diisi</p>

                        <div class="relative">
                            <select x-model="form.bidang" required
                                class="w-full px-6 py-5 text-lg border-3 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-200 focus:border-gov-blue text-gov-gray bg-white appearance-none font-semibold">
                                <option value="">-- Pilih Bidang Tujuan --</option>
                                <option value="sekretariat">üìã SEKRETARIAT</option>
                                <option value="keuaset">üí∞ KEUANGAN DAN ASET</option>
                                <option value="pemdes">üèòÔ∏è PEMERINTAHAN DESA</option>
                                <option value="pm">üë• PEMBERDAYAAN MASYARAKAT</option>
                            </select>
                            <div class="absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none">
                                <svg class="w-8 h-8 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M19 9l-7 7-7-7" />
                                </svg>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Step 2: Personal Data -->
            <div x-show="currentStep === 2" x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 translate-x-4" x-transition:enter-end="opacity-100 translate-x-0">
                <form @submit.prevent="submitForm" class="space-y-6">
                    <div class="bg-blue-50 rounded-2xl p-6 border-2 border-blue-100 mb-6">
                        <h3 class="text-lg font-bold text-center text-gov-gray mb-2">
                            üìù FORMULIR DATA PENGUNJUNG
                        </h3>
                        <p class="text-center text-red-600 font-semibold">Mohon isi semua data dengan lengkap dan benar</p>
                    </div>

                    <div class="space-y-6">
                        <div class="bg-white rounded-xl border-2 border-gray-200 p-4">
                            <label class="block text-base font-bold text-gov-gray mb-3 flex items-center">
                                üë§ NAMA LENGKAP <span class="text-red-500 ml-2 text-lg">*</span>
                            </label>
                            <input type="text" x-model="form.nama" required
                                class="w-full px-4 py-4 text-lg border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-200 focus:border-gov-blue text-gov-gray font-medium"
                                placeholder="Contoh: Ahmad Budi Santoso">
                        </div>

                        <div class="bg-white rounded-xl border-2 border-gray-200 p-4">
                            <label class="block text-base font-bold text-gov-gray mb-3 flex items-center">
                                üè† ALAMAT LENGKAP <span class="text-red-500 ml-2 text-lg">*</span>
                            </label>
                            <input type="text" x-model="form.alamat" required
                                class="w-full px-4 py-4 text-lg border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-200 focus:border-gov-blue text-gov-gray font-medium"
                                placeholder="Contoh: Jl. Merdeka No. 123, Jakarta">
                        </div>

                        <div class="bg-white rounded-xl border-2 border-gray-200 p-4">
                            <label class="block text-base font-bold text-gov-gray mb-3 flex items-center">
                                üì± NOMOR WHATSAPP <span class="text-red-500 ml-2 text-lg">*</span>
                            </label>
                            <input type="tel" x-model="form.nowa" required
                                class="w-full px-4 py-4 text-lg border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-200 focus:border-gov-blue text-gov-gray font-medium"
                                placeholder="Contoh: 08123456789">
                        </div>

                        <div class="bg-white rounded-xl border-2 border-gray-200 p-4">
                            <label class="block text-base font-bold text-gov-gray mb-3 flex items-center">
                                üè¢ ASAL INSTANSI/DESA <span class="text-red-500 ml-2 text-lg">*</span>
                            </label>
                            <input type="text" x-model="form.asal" required
                                class="w-full px-4 py-4 text-lg border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-200 focus:border-gov-blue text-gov-gray font-medium"
                                placeholder="Contoh: Desa Sungai Penuh">
                        </div>

                        <div class="bg-white rounded-xl border-2 border-gray-200 p-4">
                            <label class="block text-base font-bold text-gov-gray mb-3 flex items-center">
                                üìã KEPERLUAN KUNJUNGAN <span class="text-red-500 ml-2 text-lg">*</span>
                            </label>
                            <textarea x-model="form.keperluan" required rows="5"
                                class="w-full px-4 py-4 text-lg border-2 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-200 focus:border-gov-blue text-gov-gray resize-none font-medium"
                                placeholder="Jelaskan dengan detail keperluan kunjungan Anda...&#10;&#10;Contoh: Mengurus surat keterangan untuk program bantuan sosial"></textarea>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Bottom Fixed Buttons -->
        <div class="fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-[450px] bg-white border-t-4 border-gray-200 px-6 py-6">
            <!-- Step 1 Button -->
            <div x-show="currentStep === 1">
                <button @click="nextStep" :disabled="!form.bidang"
                    class="bg-gov-blue hover:bg-blue-800 w-full py-5 text-white text-lg font-bold rounded-xl disabled:opacity-50 disabled:cursor-not-allowed shadow-lg transition-all">
                    <span class="flex items-center justify-center">
                        ‚û°Ô∏è LANJUTKAN KE TAHAP 2
                    </span>
                </button>
            </div>

            <!-- Step 2 Buttons -->
            <div x-show="currentStep === 2" class="flex gap-4">
                <button @click="previousStep" class="flex-1 bg-gray-600 hover:bg-gray-700 text-white text-lg font-bold py-5 rounded-xl shadow-lg transition-all">
                    <span class="flex items-center justify-center">
                        ‚¨ÖÔ∏è KEMBALI
                    </span>
                </button>

                <button @click="submitForm"
                    :disabled="isSubmitting || !form.nama || !form.alamat || !form.asal || !form.keperluan"
                    class="flex-1 bg-green-600 hover:bg-green-700 text-white text-lg font-bold py-5 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed shadow-lg transition-all">
                    <span x-show="!isSubmitting" class="flex items-center justify-center">
                        ‚úÖ DAFTAR SEKARANG
                    </span>
                    <span x-show="isSubmitting" class="flex items-center justify-center">
                        <svg class="animate-spin w-6 h-6 mr-3" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor"
                                d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        SEDANG PROSES...
                    </span>
                </button>
            </div>
        </div>

        <!-- Success Modal -->
        <div x-show="showSuccess" x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0 scale-95" x-transition:enter-end="opacity-100 scale-100"
            class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center px-6 z-50"
            style="display: none;">
            <div class="bg-white rounded-3xl p-8 w-full max-w-sm text-center border-4 border-green-200">
                <div class="w-20 h-20 bg-green-100 rounded-full mx-auto mb-6 flex items-center justify-center">
                    <svg class="w-12 h-12 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-gov-gray mb-4">‚úÖ PENDAFTARAN BERHASIL!</h3>
                <div class="bg-green-50 rounded-lg p-4 mb-6">
                    <p class="text-gov-gray font-semibold leading-relaxed">
                        Terima kasih telah mengisi buku tamu DPMD Kerinci.<br><br>
                        Data kunjungan Anda telah tersimpan dengan baik.
                    </p>
                </div>
                <button @click="showSuccess = false; resetForm()"
                    class="bg-green-600 hover:bg-green-700 w-full py-4 text-white text-lg font-bold rounded-xl shadow-lg transition-all">
                    üè† KEMBALI KE HALAMAN UTAMA
                </button>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="./guest-book-assets/app.js"></script>
</body>

</html>
